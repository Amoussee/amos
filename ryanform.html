<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Build Your Own Date</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

    <style>
        /* Background styling */
        .bg-image {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('/path-to-your-image.jpg'); /* Replace with actual image */
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            z-index: -1; /* Ensures it stays behind content */
        }

        /* Styling for selected card */
        .card.selected {
            border: 3px solid #007bff !important;
            background-color: #f8f9fa;
            box-shadow: 0 0 10px rgba(0, 123, 255, 0.5);
        }
        .card:hover {
            cursor: pointer;
            transform: scale(1.05);
            transition: transform 0.2s;
        }
        
        /* Ensure form container is readable */
        .custom-form-bg {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            text-align: center;
        }
        .card {
            width: 100%; /* Ensure uniform width */
            max-width: 350px; /* Set a max width to maintain design */
            height: 100%; /* Ensure all cards have the same height */
            display: flex;
            flex-direction: column;
        }
        
        /* Standardize image size inside cards */
        .card img {
            width: 100%;
            height: 200px;
            object-fit: cover; /* Ensures images fill the area without distortion */
        }
        
        /* Ensure text is aligned properly */
        .card-body {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
    </style>
</head>
<body class="bg-light">
    <div class="bg-image"></div> <!-- Background image stays fixed -->
    
    <div class="container text-center py-5">
        <div class="custom-form-bg mx-auto">
            <h2 class="mb-4">‚≠ê Build your own date ‚≠ê</h2>
            <p class="byod-p">Because you did such a great job at planning our Taiwanüáπüáº trip, I am going to make you <s>plan</s> build your own birthday date as well. </p>
        </div>
    </div>
    
    <!-- action="summary.html" -->
    <div class="container py-3">
        <form id="dateForm" method="GET"> 
            
            <h4 class="mb-4 mt-5">What time do you want to meet?</h4>
            <div class="row justify-content-center">
                <div class="col-md-4">
                    <div class="card p-3" data-category="time" data-value="8am" onclick="selectOption(this, 'selectedTime')">
                        <img src="img/photo_2025-01-30_23-44-34.jpg" class="card-img-top" alt="Morning">
                        <div class="card-body">
                            <h5 class="card-title">8am</h5>
                            <p class="card-text">THE WHOLE DAY WITH MEEEEE??? I'm honored! üòä</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card p-3" data-category="time" data-value="12pm" onclick="selectOption(this, 'selectedTime')">
                        <img src="img/photo_2025-01-30_23-44-38.jpg" class="card-img-top" alt="Lunch">
                        <div class="card-body">
                            <h5 class="card-title">12pm</h5>
                            <p class="card-text"> YUMMY lunch to start off our date üçΩÔ∏è</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card p-3" data-category="time" data-value="6pm" onclick="selectOption(this, 'selectedTime')">
                        <img src="img/photo_2025-01-30_23-44-41.jpg" class="card-img-top" alt="Evening">
                        <div class="card-body">
                            <h5 class="card-title">6pm</h5>
                            <p class="card-text">A cozy dinner under the stars! üåô‚ú®</p>
                        </div>
                    </div>
                </div>
            </div>
            <input type="hidden" id="selectedTime" name="selectedTime" value="">

            <h4 class="mb-4 mt-5">What do you want for lunch?</h4>
                    <div class="row justify-content-center py-3">
                        <div class="col-md-4">
                            <div class="card p-3" data-category="lunch" data-value="Pizza Place" onclick="selectOption(this, 'selectedLunch')">
                                <img src="https://source.unsplash.com/300x200/?pizza" class="card-img-top" alt="Pizza">
                                <div class="card-body">
                                    <h5 class="card-title">Pizza Place</h5>
                                    <p class="card-text">Enjoy delicious wood-fired pizzas!</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card p-3" data-category="lunch" data-value="Sushi Bar" onclick="selectOption(this, 'selectedLunch')">
                                <img src="https://source.unsplash.com/300x200/?sushi" class="card-img-top" alt="Sushi">
                                <div class="card-body">
                                    <h5 class="card-title">Sushi Bar</h5>
                                    <p class="card-text">Fresh sushi rolls and sashimi options.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card p-3" data-category="lunch" data-value="Burger Joint" onclick="selectOption(this, 'selectedLunch')">
                                <img src="https://source.unsplash.com/300x200/?burger" class="card-img-top" alt="Burger">
                                <div class="card-body">
                                    <h5 class="card-title">Burger Joint</h5>
                                    <p class="card-text">Juicy burgers with gourmet toppings!</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" id="selectedLunch" name="selectedLunch" value="">


                    <h4 class="mb-4 mt-5">What activity do you want to do?</h4>
                    <div class="row justify-content-center py-3">
                        <div class="col-md-4">
                            <div class="card p-3" data-category="activity" data-value="Movie Night" onclick="selectOption(this, 'selectedActivity')">
                                <img src="https://source.unsplash.com/300x200/?movie" class="card-img-top" alt="Movie">
                                <div class="card-body">
                                    <h5 class="card-title">Movie Night</h5>
                                    <p class="card-text">Watch the latest blockbuster at the cinema.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card p-3" data-category="activity" data-value="Bowling" onclick="selectOption(this, 'selectedActivity')">
                                <img src="https://source.unsplash.com/300x200/?bowling" class="card-img-top" alt="Bowling">
                                <div class="card-body">
                                    <h5 class="card-title">Bowling</h5>
                                    <p class="card-text">Enjoy a fun game of bowling with your date.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card p-3" data-category="activity" data-value="Park Walk" onclick="selectOption(this, 'selectedActivity')">
                                <img src="https://source.unsplash.com/300x200/?park" class="card-img-top" alt="Park">
                                <div class="card-body">
                                    <h5 class="card-title">Park Walk</h5>
                                    <p class="card-text">Take a relaxing walk in the park.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" id="selectedActivity" name="selectedActivity" value="">


            <button type="submit" class="btn btn-primary mt-5">View Summary</button>
        </form>
    </div>
    <!-- <script src="https://cdn.jsdelivr.net/npm/@getbrevo/brevo@1.0.1/lib/index.min.js"></script> -->

    <!-- <script>
        function selectOption(card, inputId) {
            document.querySelectorAll(`.card[data-category='${card.dataset.category}']`).forEach(c => c.classList.remove('selected'));
            card.classList.add('selected');
            document.getElementById(inputId).value = card.dataset.value;
        }
    </script> -->
    <script>

        function selectOption(card, inputId) {
            document.querySelectorAll(`.card[data-category='${card.dataset.category}']`).forEach(c => c.classList.remove('selected'));
            card.classList.add('selected');
            document.getElementById(inputId).value = card.dataset.value;
        }

        document.getElementById('dateForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const selectedTime = document.getElementById('selectedTime').value;
            const selectedLunch = document.getElementById('selectedLunch').value;
            const selectedActivity = document.getElementById('selectedActivity').value;

    try {
        const response = await fetch('http://localhost:3000/send-email', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                selectedTime,
                selectedLunch,
                selectedActivity
            })
        });

        if (response.ok) {
            console.log('Email sent successfully');
            this.submit(); // Continue with form submission
        } else {
            console.error('Failed to send email');
        }
    } catch (error) {
        console.error('Error:', error);
    }
});

    

    </script>
    
</body>
</html>
